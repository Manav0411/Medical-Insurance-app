{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow-sm">
            <div class="card-body">

                {% if error %}
                <div class="alert alert-danger" role="alert">{{ error }}</div>
                {% endif %}

                <form id="insurance-form" action="/predict" method="POST">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="age" class="form-label">Age</label>
                            <input type="number" class="form-control" id="age" name="age" required>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label for="sex" class="form-label">Sex</label>
                            <select id="sex" name="sex" class="form-select" required>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label for="bmi" class="form-label">BMI</label>
                            <input type="number" step="0.1" class="form-control" id="bmi" name="bmi" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label for="children" class="form-label">Children</label>
                            <input type="number" class="form-control" id="children" name="children" required>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label for="smoker" class="form-label">Smoker</label>
                            <select id="smoker" name="smoker" class="form-select" required>
                                <option value="no">No</option>
                                <option value="yes">Yes</option>
                            </select>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label for="region" class="form-label">Region</label>
                            <select id="region" name="region" class="form-select" required>
                                <option value="northeast">Northeast</option>
                                <option value="northwest">Northwest</option>
                                <option value="southeast">Southeast</option>
                                <option value="southwest">Southwest</option>
                            </select>
                        </div>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">Predict</button>
                    </div>
                </form>

                {% if prediction %}
                <div id="result" class="mt-4">
                    <div class="alert alert-info">
                        <h5 class="mb-0">Predicted Insurance Charges: <strong>${{ "%.2f"|format(prediction) }}</strong></h5>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock %}